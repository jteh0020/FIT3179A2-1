<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Air Travel in Malaysia – Storytelling Dashboard</title>

  <!-- Vega & Vega-Lite libraries -->
  <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-lite@5"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>

  <!-- Styles -->
  <link rel="stylesheet" href="css/styles.css">
  <style>
    :root {
      --primary: #005b96;
      --accent: #1b98e0;
      --bg: #f8f9fa;
      --text: #222;
    }
    body {
      font-family: "Inter", "Segoe UI", Roboto, sans-serif;
      background: var(--bg);
      color: var(--text);
      margin: 0;
      font-size: 20px;
      line-height: 1.8;
      scroll-behavior: smooth;
    }
    header {
      background: var(--primary);
      color: #fff;
      position: sticky;
      top: 0;
      z-index: 10;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    .header-inner {
      max-width: 1100px;
      margin: 0 auto;
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 1.2rem 1.5rem;
      font-size: 22px;
    }
    nav a {
      color: #fff;
      text-decoration: none;
      margin-left: 1.5rem;
      font-weight: 600;
      font-size: 20px;
    }
    nav a:hover { text-decoration: underline; }
    main {
      max-width: 1100px;
      margin: 2rem auto;
      padding: 0 1.5rem;
    }
    h1, h2, h3 {
      color: var(--primary);
      text-align: center;
    }
    section.card {
      background: #fff;
      border-radius: 14px;
      box-shadow: 0 3px 8px rgba(0,0,0,0.08);
      padding: 2.2rem;
      margin-bottom: 2rem;
      transition: all 0.3s ease;
    }
    section.card:hover {
      transform: translateY(-2px);
      box-shadow: 0 5px 12px rgba(0,0,0,0.12);
    }
    footer {
      text-align: center;
      padding: 2.5rem 1rem;
      color: #666;
      font-size: 18px;
    }
  </style>
</head>

<body>
  <header>
    <div class="header-inner">
      <h2>✈️ Air Travel in Malaysia</h2>
      <nav>
        <a href="#network">Network</a>
        <a href="#airports">Airports</a>
        <a href="#fleet">Fleet</a>
      </nav>
    </div>
  </header>

  <main>
    <!-- Introduction -->
    <section class="card" id="intro">
      <h1>Exploring Malaysia’s Air Travel Landscape</h1>
      <p>
        This storytelling dashboard explores Malaysia’s <strong>aviation ecosystem</strong> across three core dimensions —
        <em>Network Connectivity</em>, <em>Airport Operations</em>, and <em>Fleet Composition</em>.
        Together, they reveal how Malaysia connects regions, powers its airports, and evolves its fleet post-pandemic.
      </p>
    </section>

    <!-- 1️⃣ NETWORK OVERVIEW -->
    <section class="card" id="network">
      <h2>1. Air Network Connectivity</h2>
      <p>
        Malaysia’s aviation network bridges regions and nations, forming the backbone of both domestic and international connectivity.
        This section visualizes the country’s air routes and busiest corridors, showing how hubs like Kuala Lumpur, Penang, and Kota Kinabalu anchor national and regional mobility.
      </p>

      <h3>1.1 Domestic Network</h3>
      <div id="dot_map"></div>
      <p>The map below displays Malaysia’s <strong>domestic routes</strong>, while the bar chart ranks the <strong>top 10 busiest domestic routes</strong> by passenger or flight volume.</p>
      <div id="bar_vis"></div>

      <h3>1.2 International Network</h3>
      <div id="dot_map1"></div>
      <p>
        Malaysia’s international routes connect its major airports to key global destinations.
        The following visualizations highlight <strong>top international routes</strong> and Malaysia’s aviation role in Southeast Asia.
      </p>
      <div id="bar_vis1"></div>
    </section>

    <!-- 2️⃣ AIRPORT OPERATIONS -->
    <section class="card" id="airports">
      <h2>2. Airport Operations & Performance</h2>
      <p>
        Airports are the heartbeat of Malaysia’s air system.
        This section explores <strong>passenger movements</strong> and <strong>aircraft activity</strong> between 2017 and 2024, revealing operational performance and recovery trends.
      </p>

      <h3>2.1 Passenger Movements</h3>
      <div id="stacked_bar_chart"></div>

      <h3>2.2 Aircraft Movements</h3>
      <p>The chart below illustrates annual <strong>takeoffs and landings</strong> across major airports, capturing the pandemic’s impact and subsequent recovery.</p>
      <div id="aircraft_movement_chart"></div>
    </section>

    <!-- 3️⃣ FLEET INSIGHT -->
    <section class="card" id="fleet">
      <h2>3. Fleet Composition & Evolution</h2>
      <p>
        Malaysia’s airline fleets reflect industry growth, strategy, and market demand.
        These visuals highlight fleet size trends and composition across different aircraft types from 2017–2025.
      </p>

      <h3>3.1 Fleet Growth Over Time</h3>
      <div id="line_chart"></div>

      <h3>3.2 Fleet Composition by Type</h3>
      <p>
        The pie chart below shows Malaysia’s <strong>fleet composition</strong> by aircraft type.
        Use the slider to explore changes between 2017 and 2025.
      </p>
      <div id="fleet_pie_chart"></div>
    </section>

    <footer>
      <p>
        Data sources: <em>Kaggle, Ministry of Transport Malaysia, Planespotters.net</em><br>
        Visualisations built with <a href="https://vega.github.io/" target="_blank">Vega-Lite</a> |
        Dashboard designed by <strong>Jteh0020</strong>
      </p>
    </footer>
  </main>

  <!-- Vega Embeds -->
  <script>
    vegaEmbed('#dot_map', 'js/domestic_routes.vg.json', { actions: false, renderer: "svg" });
    vegaEmbed('#bar_vis', 'js/domestic_stats.vg.json', { actions: false, renderer: "svg" });
    vegaEmbed('#dot_map1', 'js/international_routes.vg.json', { actions: false, renderer: "svg" });
    vegaEmbed('#bar_vis1', 'js/international_stats.vg.json', { actions: false, renderer: "svg" });
    vegaEmbed('#stacked_bar_chart', 'js/stacked_bar_chart.vg.json', { actions: false, renderer: "svg" });
    vegaEmbed('#aircraft_movement_chart', 'js/aircraft_movement.vg.json', { actions: false, renderer: "svg" });
    vegaEmbed('#line_chart', 'js/fleet_size.vg.json', { actions: false, renderer: "svg" });
    vegaEmbed('#fleet_pie_chart', 'js/fleet_pie.vg.json', { actions: false, renderer: "svg" });
  </script>
</body>
</html>
